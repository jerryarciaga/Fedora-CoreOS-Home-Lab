{
  "ignition": {
    "version": "3.4.0"
  },
  "passwd": {
    "users": [
      {
        "groups": [
          "wheel",
          "sudo"
        ],
        "homeDir": "/home/core",
        "name": "core",
        "passwordHash": "$y$j9T$K/P200.9L1OXAXe0Q2ClO1$1rtYB8t9YVooeCOmUoRlUPKI701sYbEKDOFNV3eqTZ4",
        "sshAuthorizedKeys": [
          "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIBO9FIbZO1T3noHbeBA/j9tmjcZjQl4omeK79WhInQck jerry@latte"
        ],
        "shell": "/bin/bash"
      }
    ]
  },
  "storage": {
    "disks": [
      {
        "device": "/dev/disk/by-diskseq/1",
        "partitions": [
          {
            "label": "boot",
            "number": 1,
            "sizeMiB": 500
          },
          {
            "label": "efi",
            "number": 2,
            "sizeMiB": 500
          },
          {
            "label": "root",
            "number": 3,
            "sizeMiB": 10000
          },
          {
            "label": "var",
            "number": 4,
            "sizeMiB": 2000
          },
          {
            "label": "log",
            "number": 5,
            "sizeMiB": 10000
          },
          {
            "label": "swap",
            "number": 6,
            "sizeMiB": 16000
          },
          {
            "label": "home",
            "number": 7,
            "sizeMiB": 0
          }
        ],
        "wipeTable": true
      }
    ],
    "files": [
      {
        "group": {
          "id": 0
        },
        "overwrite": true,
        "path": "/etc/hostname",
        "user": {
          "id": 0
        },
        "contents": {
          "compression": "",
          "source": "data:,barista"
        },
        "mode": 420
      }
    ],
    "filesystems": [
      {
        "device": "/dev/disk/by-partlabel/boot",
        "format": "ext4",
        "label": "boot",
        "path": "/boot",
        "wipeFilesystem": true
      },
      {
        "device": "/dev/disk/by-partlabel/efi",
        "format": "vfat",
        "label": "boot",
        "path": "/boot/efi",
        "wipeFilesystem": true
      },
      {
        "device": "/dev/disk/by-partlabel/root",
        "format": "xfs",
        "label": "root",
        "path": "/",
        "wipeFilesystem": true
      },
      {
        "device": "/dev/disk/by-partlabel/var",
        "format": "xfs",
        "label": "var",
        "path": "/var",
        "wipeFilesystem": true
      },
      {
        "device": "/dev/disk/by-partlabel/log",
        "format": "xfs",
        "label": "log",
        "path": "/var/log",
        "wipeFilesystem": true
      },
      {
        "device": "/dev/disk/by-partlabel/swap",
        "format": "swap",
        "label": "swap",
        "wipeFilesystem": true
      },
      {
        "device": "/dev/disk/by-partlabel/home",
        "format": "xfs",
        "label": "home",
        "path": "/home",
        "wipeFilesystem": false
      }
    ]
  },
  "systemd": {
    "units": [
      {
        "contents": "# Generated by Butane\n[Unit]\nRequires=systemd-fsck@dev-disk-by\\x2dpartlabel-boot.service\nAfter=systemd-fsck@dev-disk-by\\x2dpartlabel-boot.service\n\n[Mount]\nWhere=/boot\nWhat=/dev/disk/by-partlabel/boot\nType=ext4\n\n[Install]\nRequiredBy=local-fs.target",
        "enabled": true,
        "name": "boot.mount"
      },
      {
        "contents": "# Generated by Butane\n[Unit]\nRequires=systemd-fsck@dev-disk-by\\x2dpartlabel-efi.service\nAfter=systemd-fsck@dev-disk-by\\x2dpartlabel-efi.service\n\n[Mount]\nWhere=/boot/efi\nWhat=/dev/disk/by-partlabel/efi\nType=vfat\n\n[Install]\nRequiredBy=local-fs.target",
        "enabled": true,
        "name": "boot-efi.mount"
      },
      {
        "contents": "# Generated by Butane\n[Unit]\nRequires=systemd-fsck@dev-disk-by\\x2dpartlabel-root.service\nAfter=systemd-fsck@dev-disk-by\\x2dpartlabel-root.service\n\n[Mount]\nWhere=/\nWhat=/dev/disk/by-partlabel/root\nType=xfs\n\n[Install]\nRequiredBy=local-fs.target",
        "enabled": true,
        "name": "-.mount"
      },
      {
        "contents": "# Generated by Butane\n[Unit]\nRequires=systemd-fsck@dev-disk-by\\x2dpartlabel-var.service\nAfter=systemd-fsck@dev-disk-by\\x2dpartlabel-var.service\n\n[Mount]\nWhere=/var\nWhat=/dev/disk/by-partlabel/var\nType=xfs\n\n[Install]\nRequiredBy=local-fs.target",
        "enabled": true,
        "name": "var.mount"
      },
      {
        "contents": "# Generated by Butane\n[Unit]\nRequires=systemd-fsck@dev-disk-by\\x2dpartlabel-log.service\nAfter=systemd-fsck@dev-disk-by\\x2dpartlabel-log.service\n\n[Mount]\nWhere=/var/log\nWhat=/dev/disk/by-partlabel/log\nType=xfs\n\n[Install]\nRequiredBy=local-fs.target",
        "enabled": true,
        "name": "var-log.mount"
      },
      {
        "contents": "# Generated by Butane\n[Swap]\nWhat=/dev/disk/by-partlabel/swap\n\n[Install]\nRequiredBy=swap.target",
        "enabled": true,
        "name": "dev-disk-by\\x2dpartlabel-swap.swap"
      },
      {
        "contents": "# Generated by Butane\n[Unit]\nRequires=systemd-fsck@dev-disk-by\\x2dpartlabel-home.service\nAfter=systemd-fsck@dev-disk-by\\x2dpartlabel-home.service\n\n[Mount]\nWhere=/home\nWhat=/dev/disk/by-partlabel/home\nType=xfs\n\n[Install]\nRequiredBy=local-fs.target",
        "enabled": true,
        "name": "home.mount"
      },
      {
        "contents": "[Unit]\nDescription=Enable Wi-Fi\nWants=network-online.target\nAfter=network-online.target\nBefore=zincati.service\nConditionPathExists=!/var/lib/%N.stamp\n[Service]\nType=oneshot\nRemainAfterExit=yes\nExecStart=/usr/bin/rpm-ostree install -y --allow-inactive NetworkManager-wifi iwl-mvm-firmware\nExecStart=/bin/touch /var/lib/%N.stamp\nExecStart=/bin/systemctl --no-block reboot\n[Install]\nWantedBy=multi-user.target\n",
        "enabled": true,
        "name": "rpm-ostree-install-wifi.service"
      }
    ]
  }
}
